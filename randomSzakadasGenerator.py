import bpy, bmesh
from collections import defaultdict

def createRandomShape():
    points = [(-0.44056040048599243,0.9923735857009888,0.0), (-0.37828749418258667,0.9923735857009888,0.0), (-0.284443736076355,0.9923735857009888,0.0), (-0.1653432846069336,0.9923735857009888,0.0), (-0.027300313115119934,0.9923735857009888,0.0), (0.12337100505828857,0.9923735857009888,0.0), (0.2803564965724945,0.9923735857009888,0.0), (0.43734198808670044,0.9923735857009888,0.0), (0.5880132913589478,0.9923735857009888,0.0), (0.7260562777519226,0.9923735857009888,0.0), (0.845156729221344,0.9923735857009888,0.0), (0.9390004873275757,0.9923735857009888,0.0), (1.0012736320495605,0.9923735857009888,0.0), (0.9885700941085815,0.9593090415000916,0.0), (0.962232232093811,0.9055152535438538,0.0), (0.9248384237289429,0.8352116942405701,0.0), (0.8789671063423157,0.7526178359985352,0.0), (0.8271965980529785,0.6619531512260437,0.0), (0.77210533618927,0.5674371123313904,0.0), (0.7162717580795288,0.47328925132751465,0.0), (0.662274181842804,0.3837289810180664,0.0), (0.6126910448074341,0.3029758036136627,0.0), (0.570100724697113,0.23524919152259827,0.0), (0.5370815992355347,0.18476863205432892,0.0), (0.5162120461463928,0.15575364232063293,0.0), (0.4614240527153015,0.09101337194442749,0.0), (0.40359848737716675,0.026070058345794678,0.0), (0.34289294481277466,-0.038498036563396454,0.0), (0.2794649600982666,-0.10211264342069626,0.0), (0.2134721279144287,-0.1641954928636551,0.0), (0.14507202804088593,-0.2241683304309845,0.0), (0.07442222535610199,-0.28145289421081543,0.0), (0.0016802921891212463,-0.33547088503837585,0.0), (-0.07299619168043137,-0.3856440484523773,0.0), (-0.1494496464729309,-0.43139412999153137,0.0), (-0.22752252221107483,-0.47214287519454956,0.0), (-0.3070572018623352,-0.5073120594024658,0.0), (-0.35896116495132446,-0.5280007719993591,0.0), (-0.40206748247146606,-0.5448148250579834,0.0), (-0.4377216100692749,-0.5581926703453064,0.0), (-0.46726903319358826,-0.5685728192329407,0.0), (-0.4920552372932434,-0.576393723487854,0.0), (-0.5134257078170776,-0.5820938944816589,0.0), (-0.5327259302139282,-0.5861117839813232,0.0), (-0.5513014197349548,-0.5888859033584595,0.0), (-0.5704975724220276,-0.5908547043800354,0.0), (-0.5916599631309509,-0.5924566984176636,0.0), (-0.6161340475082397,-0.5941303968429565,0.0), (-0.6452652215957642,-0.5963141918182373,0.0), (-0.6426652669906616,-0.5318052172660828,0.0), (-0.6353951096534729,-0.4457327425479889,0.0), (-0.6242491602897644,-0.34242069721221924,0.0), (-0.6100218892097473,-0.22619304060935974,0.0), (-0.5935077667236328,-0.10137371718883514,0.0), (-0.5755012035369873,0.027713298797607422,0.0), (-0.5567967295646667,0.1567440629005432,0.0), (-0.5381887555122375,0.2813946008682251,0.0), (-0.5204718112945557,0.39734095335006714,0.0), (-0.5044403076171875,0.5002591609954834,0.0), (-0.49088868498802185,0.5858253240585327,0.0), (-0.4806113839149475,0.6497154235839844,0.0), (-0.4779691994190216,0.6705268025398254,0.0), (-0.47543078660964966,0.6983524560928345,0.0), (-0.4729270935058594,0.7315105199813843,0.0), (-0.47038906812667847,0.7683190703392029,0.0), (-0.46774762868881226,0.8070961236953735,0.0), (-0.46493369340896606,0.846159815788269,0.0), (-0.4618782103061676,0.8838282227516174,0.0), (-0.4585121273994446,0.9184194207191467,0.0), (-0.4547663629055023,0.948251485824585,0.0), (-0.45057186484336853,0.9716424942016602,0.0), (-0.44585955142974854,0.9869105219841003,0.0)]
    #Create object for line
    bpy.ops.mesh.primitive_plane_add(enter_editmode=False, align='WORLD', location=(0, 0, 0.02), scale=(1, 1, 1))
    bpy.context.object.name = "Shape"
    bpy.ops.object.mode_set(mode='EDIT')
    bpy.ops.mesh.delete(type='VERT')
    objShape = bpy.data.objects.get("Shape")
    
    bm = bmesh.from_edit_mesh(objShape.data)
    
    #Store verts into "v" list
    v = defaultdict(list)
    for i in range(len(points)):
        vtemp = bm.verts.new(points[i])
        v[""].append(vtemp)

    #Create edges from the the "v" list
    for i in range(len(v[""])-1):
        bm.edges.new((v[""][i], v[""][i+1]))    
         
    bmesh.update_edit_mesh(objShape.data)
    
    bpy.ops.mesh.select_all(action='SELECT')
    bpy.ops.mesh.edge_face_add()
    bpy.ops.object.mode_set(mode='OBJECT')
    

def getPoints():
    points = "["
    for v in bpy.context.object.data.vertices:
        points = points + "("+str(v.co.x)+","+str(v.co.y)+","+str(v.co.z)+"), "
        
    points = points[:-2]
    points = points + "]"
    print(points)

#getPoints()   
createRandomShape()